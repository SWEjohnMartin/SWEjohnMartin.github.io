<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/bootstrap5.3.1.min.css" />
    <title>Generate GSU Buyout Agreement</title>
    <style>
      body {
        background-color: rgb(233, 233, 233);
      }
      label {
        display: block;
        margin: 10px 0 5px;
      }
      input[type="text"],
      input[type="email"] {
        width: 70%;
        padding: 8px;
        margin-bottom: 20px;
        border-radius: 5px;
        border: 1px solid #ccc;
      }
      .top-bar {
        padding: 20px 0 20px 0;
        background-color: rgb(18, 18, 39);
        margin-bottom: 40px;
      }
      .bottom-bar {
        padding: 100px 0 100px 0;
        background-color: rgb(24, 77, 137);
      }
      .align-right {
        text-align: right;
      }
      .center {
        margin: auto;
      }
      .button-position {
        padding: 10px 100px 100px 0;
      }
    </style>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12 top-bar"></div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-6 center">
          <h2>Generate GSU Buyout Agreement</h2>

          <form id="emailForm">
            <label for="recipientName">Recipient Name:</label>
            <input
              type="text"
              id="recipientName"
              name="recipientName"
              required
            />

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required />

            <label for="emailSubject">Email Subject:</label>
            <input type="text" id="emailSubject" name="emailSubject" required />

            <input
              type="text"
              value="installment"
              id="templateId"
              name="templateId"
              required
              hidden
            />

            <label for="stafferName">Staffer's Name:</label>
            <input type="text" id="stafferName" name="stafferName" required />

            <label for="buyoutFeeText">Buyout Fee Text:</label>
            <input
              type="text"
              id="buyoutFeeText"
              name="buyoutFeeText"
              required
            />

            <label for="buyoutFeeNumber">Buyout Fee Number:</label>
            <input
              type="number"
              id="buyoutFeeNumber"
              name="buyoutFeeNumber"
              required
            />

            <label for="payableOnDate">Payable On Date:</label>
            <input
              type="date"
              id="payableOnDate"
              name="payableOnDate"
              required
            />

            <label for="RepresentativeName"
              >Authorized Representative Name:</label
            >
            <input
              type="text"
              id="RepresentativeName"
              name="RepresentativeName"
              required
            />
            <br />
            <div class="align-right button-position">
              <button
                class="btn btn-primary"
                type="button"
                onclick="sendData()"
              >
                Generate Agreement
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12 bottom-bar"></div>
      </div>
    </div>

    <script>
      function sendData() {
        // Get the form data
        const recipientName = document.getElementById("recipientName").value;
        const email = document.getElementById("email").value;
        const emailSubject = document.getElementById("emailSubject").value;
        const template = document.getElementById("templateId").value;
        const stafferName = document.getElementById("stafferName").value;
        const buyoutFeeText = document.getElementById("buyoutFeeText").value;
        const buyoutFeeNumber =
          document.getElementById("buyoutFeeNumber").value;
        const payableOnDate = document.getElementById("payableOnDate").value;
        const RepresentativeName =
          document.getElementById("RepresentativeName").value;

        // Webhook URL
        const webhookUrl =
          "https://hooks.zapier.com/hooks/catch/15033132/2dpym93/"; // Replace with actual webhook URL

        // Prepare data to send
        const data = {
          recipientName: recipientName,
          emailSubject: emailSubject,
          email: email,
          template: template,
          stafferName: stafferName,
          buyoutFeeText: buyoutFeeText,
          buyoutFeeNumber: buyoutFeeNumber,
          payableOnDate: payableOnDate,
          RepresentativeName: RepresentativeName,
        };

        // Send data using Fetch API
        fetch(webhookUrl, {
          method: "POST",
          body: JSON.stringify(data),
        })
          .then((response) => response.json())
          .then((data) => {
            alert("Data sent successfully!");
          })
          .catch((error) => {
            console.error("Error:", error);
          });
      }
    </script>
  </body>
</html>
